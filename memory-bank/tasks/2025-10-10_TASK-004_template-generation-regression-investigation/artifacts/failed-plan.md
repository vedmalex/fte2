# План исследования и исправления регрессии генерации шаблонов (неудачная попытка)

На основе предоставленных артефактов (`spec.md`, `fix_conclusion.md`) был разработан следующий детализированный план.

## Фаза 1: Анализ и подготовка

*   [X] **1.1. Детальное сравнение шаблонов.**
*   [X] **1.2. Анализ кода генератора.**
*   [X] **1.3. Создание минимального воспроизводимого примера.**

## Фаза 2: Восстановление базовой функциональности

*   [X] **2.1. Откат ключевых шаблонов.**
*   [X] **2.2. Создание регрессионного теста.**
*   [X] **2.3. Добавление защитного кода (Null Guards).**
*   [X] **2.4. Реализация корректной сериализации `partial`.**

## Фаза 3: Поэтапное возвращение нового функционала

*   [X] **3.1. Восстановление поддержки Sourcemap.**
*   [ ] **3.2. Восстановление поддержки Async/Stream.**
*   [ ] **3.3. Восстановление улучшений типизации.**

## Фаза 4: Финальная валидация и документирование

*   [ ] **4.1. Полный прогон тестов.**
*   [ ] **4.2. Тестирование на реальных шаблонах.**
*   [ ] **4.3. Обновление документации.**
